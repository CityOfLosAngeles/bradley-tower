/*! 
* DevExtreme (Range Selector)
* Version: 14.2.3
* Build date: Dec 3, 2014
*
* Copyright (c) 2012 - 2014 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";if(!DevExpress.MOD_VIZ_RANGESELECTOR){if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n){n.viz.rangeSelector={utils:{}}})(DevExpress),function(n,t,i){var o=t.viz.rangeSelector,r=o.utils,f=t.utils,e=-1e3,u=function(n,t){var u;if(!n||n.length===0)return-1;for(var r=0,i=n.length-1,u=0;i-r>1;)u=r+i>>1,n[u]>t?i=u:r=u;return n[i]<=t?i:r},s=function(n,t){var i=u(n,t);return n&&i>=0&&i<n.length?n[i]:t},h=function(n,t){var i=u(n,t);return n&&i>=0&&i<n.length?(i+1<n.length&&(f.isDate(t)?n[i+1].getTime()-t.getTime()<t.getTime()-n[i].getTime()&&i++:n[i+1]-t<t-n[i]&&i++),n[i]):t},c=function(n,t){var i=u(n,t);return n&&i>=0&&i<n.length?(n[i]<t&&i+1<n.length&&i++,n[i]):t},l=function(n){return f.getRootOffset(n).left||0},a=function(n){var t=0;return n.pageX?t=n.pageX:n.originalEvent&&n.originalEvent.pageX&&(t=n.originalEvent.pageX),n.originalEvent&&n.originalEvent.touches&&(n.originalEvent.touches.length>0?t=n.originalEvent.touches[0].pageX:n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX)),t},v=function(n,t,i){var r=n.text(t,e,e).css(i).append(n.root),u=r.getBBox();return r.remove(),u},y=function(t,r){var s=r.type==="discrete",c=s?r._categoriesInfo.categories:i,u=r.startValue,f=r.endValue,e,o,h;return s?(h=n.inArray(t,c),h<0?u:t):(e=u>f?f:u,o=u>f?u:f,t<e&&(t=e),t>o&&(t=o),t)};r.findLessOrEqualValue=s,r.findNearValue=h,r.findGreaterOrEqualValue=c,r.getRootOffsetLeft=l,r.getEventPageX=a,r.getTextBBox=v,r.truncateSelectedRange=y}(jQuery,DevExpress),function(n){DevExpress.viz.rangeSelector.BaseVisualElement=n.Class.inherit({ctor:function(n){this._renderer=n,this._isDrawn=!1},applyOptions:function(n){this._options=n||{},this._applyOptions(this._options)},_applyOptions:function(){},redraw:function(n){var t=this;t._isDrawn?t._update(n||t._group):(t._isDrawn=!(t._draw(n||t._group)===!1),n&&(t._group=n))},isDrawn:function(){return!!this._isDrawn},isInitialized:function(){return!!this._options},_draw:function(){},_update:function(n){n.clear(),this._draw(n)}})}(DevExpress),function(n,t,i){var u=t.viz.rangeSelector,f=t.utils,et=t.data.utils,s=u.utils,ot=t.viz.core.ParseUtils,v=t.formatHelper,e=t.viz.core,st=5,r=f.isDefined,o=f.isNumber,c=f.isDate,l=Math.max,y=Math.ceil,k=n.extend,p="startValue",d="endValue",h="datetime",w="selectedRange",g="discrete",a="string",nt={size:i,margin:{left:0,top:0,right:0,bottom:0},scale:{showCustomBoundaryTicks:!0,showMinorTicks:!0,startValue:i,endValue:i,minorTickCount:i,minorTickInterval:i,majorTickInterval:i,useTicksAutoArrangement:!0,setTicksAtUnitBeginning:!0,minRange:i,maxRange:i,placeholderHeight:i,valueType:i,label:{visible:!0,format:i,precision:i,customizeText:i},marker:{visible:!0,label:{format:i,precision:i,customizeText:i}},logarithmBase:10},selectedRange:i,sliderMarker:{visible:!0,format:i,precision:i,customizeText:i,placeholderSize:i},behavior:{snapToTicks:!0,animationEnabled:!0,moveSelectedRangeByClick:!0,manualRangeSelectionEnabled:!0,allowSlidersSwap:!0,callSelectedRangeChanged:"onMovingComplete"},background:{color:"#C0BAE1",visible:!0,image:{url:i,location:"full"}},dataSource:i,dataSourceField:"arg",redrawOnResize:!0,theme:i,selectedRangeChanged:null};u.consts={fontHeightRatio:.55,emptySliderMarkerText:". . ."},u.formatValue=function(n,t){var i={value:n,valueText:v.format(n,t.format,t.precision)};return String(f.isFunction(t.customizeText)?t.customizeText.call(i,i):i.valueText)};var ht=function(n){return u.rangeSelectorFactory.createRangeContainer(n)},ct=function(n,t){return{x:e.CoreFactory.createTranslator2D(n.arg,t,{direction:"horizontal"}),y:e.CoreFactory.createTranslator2D(n.val,t)}},lt=function(n,t,i){return{left:t.left,top:t.top,right:n.width-t.width-t.left,bottom:n.height-t.height-t.top+i,width:n.width,height:n.height}},tt=function(n,t,r){var e=t===i?u.consts.emptySliderMarkerText:u.formatValue(t,r),f=s.getTextBBox(n,e,r.font);return{width:y(f.width)+2*r.padding,height:y(f.height*u.consts.fontHeightRatio)+2*r.padding+r.pointerSize}},it=function(n,t,i){var r=u.formatValue(t,i.label),f=s.getTextBBox(n,r,i.label.font);return y(f.width/2)},at=function(n,t,i){var r={left:t.left+i.left,top:t.top+i.top,width:n.width-t.left-t.right-i.left-i.right,height:n.height-t.top-t.bottom-i.top-i.bottom};return r.width<=0&&(r.width=1),r},vt=function(n){var t,i,r;return o(n)?t=i=r=n:n&&(o(n.height)&&(r=n.height),o(n.width)?t=i=n.width:n.width&&(o(n.width.left)&&(t=n.width.left),o(n.width.right)&&(i=n.width.right))),{widthLeft:t,widthRight:i,height:r}},yt=function(n,t,i,r){var s,a=0,v=0,h,u=0,f=0,e=0,o,c;return o=vt(r.placeholderSize),u=o.widthLeft||0,f=o.widthRight||0,e=o.height||0,r.visible&&(s=tt(n,i.startValue,r),h=tt(n,i.endValue,r),c=l(s.width,h.width),u||(u=c),f||(f=c),e||(e=l(s.height,h.height))),i.label.visible&&(a=it(n,i.startValue,i),v=it(n,i.endValue,i)),u=l(u,a),f=l(f,v),{left:u,right:f,top:e,bottom:0}},pt=function(n){n&&n.empty()},wt=function(n){return u.rangeSelectorFactory.createThemeManager(n)},rt=function(t,i){var u=n.type(t),f=n.type(i),r=function(n){return u===n||f===n};return r("date")?h:r("number")?"numeric":r(a)?a:""},bt=function(n){return n.valueType==h&&n.marker.visible},kt=function(n,t){var i=t.minorTickInterval||t.majorTickInterval;t.valueType==="datetime"&&(i=f.convertDateTickIntervalToMilliseconds(i)),n=n.arg.addRange({interval:i})},b=function(n){return new e.Range(n)},ut=function(n,t,r){n&&(n.type==="logarithmic"&&n.logarithmBase<=0||n.logarithmBase&&!o(n.logarithmBase)?(n.logarithmBase=t,r("E2104")):n.type!=="logarithmic"&&(n.logarithmBase=i))},dt=function(n,t,i){var r,u=t.label.visible;return t.placeholderHeight?t.placeholderHeight:(r=s.getTextBBox(n,"0",t.label.font),(u?t.label.topIndent+r.height:0)+(i?t.marker.topIndent+t.marker.separatorHeight:0))},gt=function(n,t,i,r,u,f){var o=e.CoreFactory.createTickManager({axisType:n.type,dataType:n.valueType},{min:u,max:f,screenDelta:t},{labelOptions:{},boundCoef:1,minorTickInterval:n.minorTickInterval,tickInterval:n.majorTickInterval,incidentOccured:i,base:n.logarithmBase,showMinorTicks:!0,withMinorCorrection:!0,stick:r!==!1});return o.getTicks(!0),{majorTickInterval:o.getTickInterval(),minorTickInterval:o.getMinorTickInterval(),bounds:o.getTickBounds()}},ni=function(n,t){var s,h,v=!1,p,u=t.startValue,e=t.endValue,a,o,l=n?n.getBoundRange():{arg:b(),val:b({isValueRange:!0})},y;return t.type===g&&(y=b({categories:t.categories||(!n&&u&&e?[u,e]:i),startCategories:u,endCategories:e}),y.addRange(l.arg),l.arg=y,a=y.categories||[],t._categoriesInfo=o=f.getCategoriesInfo(a,u||a[0],e||a[a.length-1])),r(u)&&r(e)?(v=t.inverted=o?o.inverted:u>e,s=o?o.start:v?e:u,h=o?o.end:v?u:e):r(u)||r(e)?(s=u,h=e):o&&(s=o.start,h=o.end),p=c(s)&&c(h)&&s.getTime()===h.getTime(),s===h||p||l.arg.addRange({invert:v,min:s,max:h,minVisible:s,maxVisible:h,dataType:t.valueType}),l.arg.addRange({base:t.logarithmBase,axisType:t.type}),l.arg.isDefined()||(p&&(t.valueType="numeric"),l.arg.setStubData(t.valueType)),l},ft=function(n,t){return!r(n)||!r(t)};t.registerComponent("dxRangeSelector",u,e.BaseWidget.inherit({_setDefaultOptions:function(){this.callBase(),this.option(nt)},_eventsMap:n.extend({},e.BaseWidget.prototype._eventsMap,{onSelectedRangeChanged:{name:"selectedRangeChanged",deprecated:"selectedRangeChanged",deprecatedContext:function(){return null},deprecatedArgs:function(n){return[{startValue:n.startValue,endValue:n.endValue}]}},selectedRangeChanged:{newName:"onSelectedRangeChanged"}}),_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{selectedRangeChanged:{since:"14.2",message:"Use the 'onSelectedRangeChanged' option instead"}})},_dataSourceOptions:function(){return{paginate:!1,_preferSync:!0}},_init:function(){var n=this;n.container=n._getContainer(),pt(n.container),n.renderer=n._createRenderer(),n.rangeContainer=ht(n.renderer),n.callBase(),n._reinitDataSource()},_reinitDataSource:function(){this._refreshDataSource()},_dispose:function(){var n=this,t=function(t){n[t]&&n[t].dispose(),n[t]=null};n.callBase(),t("renderer"),n.translators=null,t("rangeContainer")},_initOptions:function(n){var t=this,i;t._optionsInitializing=!0,n=n||{},t._userOptions=k(!0,{},n),i=wt(n.theme),i.setBackgroundColor(n.containerBackgroundColor),t.option(i.applyRangeSelectorTheme(n)),t._prepareChartThemeOptions(n),n.background&&(t._userBackgroundColor=n.background.color)},_refresh:function(){var n=this,t=n.callBase;n._endLoading(function(){t.call(n)})},_render:function(n){var t=this,r,i;t._optionsInitializing=!1,t._applyOptions(),t.stopRedraw||(n?(i=t.option("behavior"),r=i.animationEnabled,i.animationEnabled=!1,t.rangeContainer.redraw(),i.animationEnabled=r):t.rangeContainer.redraw(),!n&&(!t._dataSource||t._dataSource&&t._dataSource.isLoaded())&&t.hideLoadingIndicator()),t._drawn()},_optionChanged:function(n){var t=this,i=n.name;t._optionsInitializing||et.compileSetter(i)(t._userOptions,n.value,{functionsAsIs:!0,merge:!0}),i==="dataSource"?(t._reinitDataSource(),t._invalidate()):i==="selectedRange"?t.setSelectedRange(t.option(w)):i==="containerBackgroundColor"||i==="theme"?(t._initOptions(t._userOptions),t._invalidate()):t.callBase(n)},_resize:function(){this._isSizeChanged()&&this._render(!0)},_dataSourceChangedHandler:function(){var n=this;n._endLoading(function(){n._render()})},_isSizeChanged:function(){var n=this._actualSize,t=this._calculateSize();return n&&(n.width!==t.width||n.height!==t.height)},_applyOptions:function(){var n=this,f,u,e,o,t=n._actualSize=n._calculateSize(),s,h,c,l=n.container,r;if(n._isUpdating=!0,u=n._createSeriesDataSource(),r=n._scaleOptions=n._prepareScaleOptions(u),n._correctSizeOptions(t),t.width&&t.height&&l.is(":visible"))n.stopRedraw=!1;else{n.stopRedraw=!0,n._incidentOccured("W2001",[n.NAME]);return}n._updateRendererSize(t),n._updateLoadIndicator(i,n.canvas.width,n.canvas.height),e=ni(u,r),n._updateScaleOptions(u,e,t.width),kt(e,r),h=n._prepareSliderMarkersOptions(t.width),c=n._initSelection(),s=yt(n.renderer,t,r,h),f=at(t,n.option("margin"),s),o=dt(n.renderer,r,bt(r)),n.translators=ct(e,lt(t,f,o)),r.ticksInfo=n._getTicksInfo(f.width),u&&u.adjustSeriesDimensions(n.translators),n.rangeContainer.applyOptions({canvas:f,scaleLabelsAreaHeight:o,sliderMarkerSpacing:s,translators:n.translators,selectedRange:c,scale:r,behavior:n.option("behavior"),background:n.option("background"),chart:n.option("chart"),seriesDataSource:u,sliderMarker:h,sliderHandle:n.option("sliderHandle"),shutter:n.option("shutter"),selectedRangeChanged:n._createSelectedRangeChangedFunction(),setSelectedRange:function(t){n.setSelectedRange(t)}}),n._isUpdating=!1},_initSelection:function(){var u=this,n=u._scaleOptions,f=u.option(w),t,i,o=n.parser||function(){return null},e=function(t,i){var f,e=n[i];return r(t)&&(f=o(t)),r(f)?e=f:u._incidentOccured("E2203",[i]),e};return f?(t=e(f.startValue,p),t=s.truncateSelectedRange(t,n),i=e(f.endValue,d),i=s.truncateSelectedRange(i,n),{startValue:t,endValue:i}):{startValue:n.startValue,endValue:n.endValue}},_prepareChartThemeOptions:function(n){var t,i=this.option("chart")||{};!i.theme&&n&&n.theme&&(t=n.theme,t&&(typeof t=="object"&&(t=t.chart||{},t.name=n.theme.name),i.theme=t))},_updateRendererSize:function(n){this.renderer.resize(n.width,n.height).draw(this.container[0])},_createSeriesDataSource:function(){var n=this,i,e=n._dataSource&&n._dataSource.items(),t=n.option("scale"),r=n.option("chart")||{},f=t.valueType;return f||(f=rt(t.startValue,t.endValue)),(e||r.series)&&(i=new u.SeriesDataSource({renderer:n.renderer,dataSource:e,valueType:(f||"").toLowerCase(),axisType:t.type,chart:r,dataSourceField:n.option("dataSourceField"),backgroundColor:n._userBackgroundColor,incidentOccured:n._incidentOccured,categories:t.categories}),ut(r.valueAxis,i.themeManager.theme().valueAxis.logarithmBase,n._incidentOccured)),i},_calculateSize:function(){var t=this.container,i=this.option("size")||{},n={width:i.width,height:i.height};return t&&(n.width||(n.width=t.width()),n.height||(n.height=t.height())),this.canvas=n,n},_createSelectedRangeChangedFunction:function(){var n=this;return function(t,i){n.option(w,t),i||n._eventTrigger("selectedRangeChanged",t)}},_correctSizeOptions:function(n){var t=this._scaleOptions,i=this.option("size")||{};n.height||i.height===0||(n.height=t.valueType===h&&t.marker.visible!==!1?160:120),n.width||i.width===0||(n.width=400)},_prepareScaleOptions:function(t){var e=this,u=n.extend(!0,{},e.option("scale")),l=e._incidentOccured,s=0,h=new ot({incidentOccured:l}),f=h.correctValueType((u.valueType||"").toLowerCase()),o,c=function(n,t){var f=n===p?"start":"end";r(u[n])&&(s=t(u[n]),r(s)?u[n]=s:(u[n]=i,e._incidentOccured("E2202",[f])))};return t&&(f=t.getCalculatedValueType()||f),f||(f=rt(u.startValue,u.endValue)||"numeric"),(f===a||u.categories)&&(u.type=g,f=a),u.valueType=f,o=h.getParser(f,"scale"),c(p,o),c(d,o),ut(u,nt.scale.logarithmBase,e._incidentOccured),u.type||(u.type="continuous"),u.parser=o,u},_prepareSliderMarkersOptions:function(n){var u=this,t=u._scaleOptions,i=k(!0,{},u.option("sliderMarker")),e;return i.format||(!u.option("behavior").snapToTicks&&o(t.startValue)&&(e=Math.abs(t.endValue-t.startValue),i.format="fixedPoint",i.precision=f.getSignificantDigitPosition(e/n)),t.valueType===h&&(t.marker.visible?i.format=f.getDateUnitInterval(r(t.minorTickInterval)&&t.minorTickInterval!==0?t.minorTickInterval:t.majorTickInterval):r(t.startValue)&&r(t.endValue)&&(i.format=v.getDateFormatByTickInterval(t.startValue,t.endValue,t.minorTickInterval!==0?t.minorTickInterval:t.majorTickInterval)))),i},_updateScaleOptions:function(n,t,u){var o=t.arg,e=this._scaleOptions,p=r(o.minVisible)?o.minVisible:o.min,w=r(o.maxVisible)?o.maxVisible:o.max,l=gt(e,u,this._incidentOccured,o.stick,p,w),s,y,a=e._categoriesInfo;n&&!n.isEmpty()&&(s=l.bounds,o.addRange(s),e.startValue=e.inverted?s.maxVisible:s.minVisible,e.endValue=e.inverted?s.minVisible:s.maxVisible),a&&(e.startValue=a.start,e.endValue=a.end),y=c(e.startValue)&&c(e.endValue)&&e.startValue.getTime()===e.endValue.getTime()||e.startValue===e.endValue,e.isEmpty=ft(e.startValue,e.endValue)||y,e.isEmpty?e.startValue=e.endValue=i:(e.minorTickInterval=l.minorTickInterval,e.majorTickInterval=l.majorTickInterval,e.valueType!==h||r(e.label.format)||(e.label.format=e.marker.visible?f.getDateUnitInterval(e.majorTickInterval):v.getDateFormatByTickInterval(e.startValue,e.endValue,e.majorTickInterval)))},_getStubTicks:function(n){return n.isEmpty=!0,["canvas_position_left","canvas_position_center","canvas_position_right"]},_getTicksInfo:function(n){var i=this,t=i._scaleOptions,l=i.translators,c=t.isEmpty,a=l.x.getBusinessRange(),v=t._categoriesInfo,b={axisType:t.type,dataType:t.valueType},h,y=t.startValue,p=t.endValue,k={labelOptions:{},minorTickInterval:c?0:i.option("scale").minorTickInterval,tickInterval:t.majorTickInterval,addMinMax:{min:!0,max:!0},minorTickCount:t.minorTickCount,textOptions:{align:"center",font:t.label.font},textFontStyles:e.utils.patchFontOptions(t.label.font),incidentOccured:i._incidentOccured,isHorizontal:!0,renderText:function(n,t,r,u){return i.renderer.text(n,t,r,u).append(i.renderer.root)},getText:ft(y,p)?function(n){return n}:function(n){return u.formatValue(n,t.label)},translate:function(n){return l.x.translate(n)},textSpacing:st,setTicksAtUnitBeginning:t.setTicksAtUnitBeginning,useTicksAutoArrangement:t.useTicksAutoArrangement,base:t.logarithmBase,stick:!0,showMinorTicks:!0,withMinorCorrection:!0},f,o,d,s,w;return h={min:c?a.min:y,max:c?a.max:p,screenDelta:n,customTicks:v&&v.categories},s=e.CoreFactory.createTickManager(b,h,k),f=!r(h.min)&&!r(h.max)&&!r(h.customTicks)?i._getStubTicks():s.getTicks(!0),o=s.getBoundaryTicks(),w=s.getFullTicks(),o.length&&(f[0].valueOf()===o[0].valueOf()&&f.splice(0,1),f[f.length-1].valueOf()===o[o.length-1].valueOf()&&f.pop()),{majorTicks:f,minorTicks:s.getMinorTicks(),majorTickInterval:s.getTickInterval(),fullTicks:w,customBoundaryTicks:o}},_createRenderer:function(){var n=this.option("renderer");return n?n:e.CoreFactory.createRenderer({pathModified:this.option("pathModified"),rtl:this.option("rtlEnabled")})},_getContainer:function(){return this.element()},getSelectedRange:function(){var t=this,n=t.rangeContainer.slidersContainer.getSelectedRange();return{startValue:n.startValue,endValue:n.endValue}},setSelectedRange:function(n){var i=this,t;!i._isUpdating&&n&&((t=i.rangeContainer.slidersContainer.getSelectedRange(),t&&t.startValue===n.startValue&&t.endValue===n.endValue)||i.rangeContainer.slidersContainer.setSelectedRange(n))},resetSelectedRange:function(n){var t=this;t.setSelectedRange({startValue:t._scaleOptions.startValue,endValue:t._scaleOptions.endValue,blockSelectedRangeChanged:n})},render:function(n){return this._render(n),this}}).include(t.ui.DataHelperMixin))}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.RangeContainer=r.BaseVisualElement.inherit(function(){var t=function(n){this.callBase(n),this.slidersContainer=u(n),this.rangeView=e(n),this.scale=f(n)},i=function(n){var t=this,i=n.scale.isEmpty,r={left:n.canvas.left,top:n.canvas.top,width:n.canvas.width,height:n.canvas.height>=n.scaleLabelsAreaHeight?n.canvas.height-n.scaleLabelsAreaHeight:0};t._viewCanvas=r,t.slidersContainer.applyOptions({canvas:r,translator:n.translators.x,scale:n.scale,selectedRange:n.selectedRange,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,behavior:n.behavior,selectedRangeChanged:n.selectedRangeChanged,isEmpty:i}),t.rangeView.applyOptions({canvas:r,translators:n.translators,background:n.background,chart:n.chart,seriesDataSource:n.seriesDataSource,behavior:n.behavior,isEmpty:i}),t.scale.applyOptions({canvas:n.canvas,translator:n.translators.x,scale:n.scale,hideLabels:i,scaleLabelsAreaHeight:n.scaleLabelsAreaHeight,setSelectedRange:n.setSelectedRange})},u=function(n){return r.rangeSelectorFactory.createSlidersContainer(n)},f=function(n){return r.rangeSelectorFactory.createScale(n)},e=function(n){return r.rangeSelectorFactory.createRangeView(n)},n=function(n,t){return{left:n.left-t.left,top:n.top-t.top,width:n.width+t.right+t.left,height:n.height+t.bottom+t.top}},o=function(){var t=this,i,e,o,s,f,r=n(t._options.canvas,t._options.sliderMarkerSpacing),u=t._viewCanvas;t._clipRect=t._renderer.clipRect(r.left,r.top,r.width,r.height),i=t._renderer.g().attr({"class":"rangeContainer",clipId:t._clipRect.id}).append(t._renderer.root),t._viewClipRect=t._renderer.clipRect(u.left,u.top,u.width,u.height),e=t._renderer.g().attr({"class":"view",clipId:t._viewClipRect.id}).append(i),t.rangeView.redraw(e),o=t._renderer.g().attr({"class":"slidersContainer"}).append(i),t.slidersContainer.redraw(o),s=t._renderer.g().attr({"class":"scale"}).append(i),t.scale.redraw(s),f=t._renderer.g().attr({"class":"trackers"}).append(i),t._trackersGroup=f,t.slidersContainer.appendTrackers(f)},s=function(){var t=this,i=n(t._options.canvas,t._options.sliderMarkerSpacing),r=t._viewCanvas;t._clipRect.attr({x:i.left,y:i.top,width:i.width,height:i.height}),t._viewClipRect.attr({x:r.left,y:r.top,width:r.width,height:r.height}),t.rangeView.redraw(),t.slidersContainer.redraw(),t.slidersContainer.appendTrackers(t._trackersGroup),t.scale.redraw()},h=function(){this.slidersContainer.dispose(),this.slidersContainer=null};return{ctor:t,dispose:h,_applyOptions:i,_draw:o,_update:s}}())}(jQuery,DevExpress),function(n,t,i){function o(n,t,i){for(var r={},e,u,f=0;f<t.length;f++)u=t[f],i.inverted?n<u.posX?r.endValue=u.date:r.startValue||(r.startValue=u.date):n>=u.posX?r.startValue=u.date:r.endValue||(r.endValue=u.date);return r.startValue=r.startValue||i.startValue,r.endValue=r.endValue||i.endValue,r}function c(n,t){var i=new Date(n.getTime()),r=0;switch(t){case"quarter":r=f.getFirstQuarterMonth(n.getMonth());case"month":i.setMonth(r);case"week":case"day":i.setDate(1);case"hour":i.setHours(0,0,0,0);break;case"millisecond":i.setMilliseconds(0);break;case"second":i.setSeconds(0,0);break;case"minute":i.setMinutes(0,0,0)}return i}function s(n,t){var i=t,u,f;if(i==="week"&&(i="day"),i==="quarter"&&(i="month"),n[i])for(f=0;f<r.dateUnitIntervals.length;f++)if(u=r.dateUnitIntervals[f],n[u]&&(n[u]=!1,n.count--),u===i)break}function h(n,t){var i={value:n,valueText:f.format(n,t.format,t.precision)};return String(r.isFunction(t.customizeText)?t.customizeText.call(i,i):i.valueText)}var e=t.viz,u=e.rangeSelector,f=t.formatHelper,r=t.utils,l=5;u.Scale=u.BaseVisualElement.inherit({_setupDateUnitInterval:function(t){var u,o=function(t){var i=0;return n.each(t,function(){return++i<2}),i===1},e,i=t.ticksInfo.majorTickInterval,f=t.ticksInfo.majorTicks;if(t.valueType==="datetime"){if(r.isObject(i)&&!o(i)&&r.logger.warn('More than one field is specified within the object assigned to the "tickInterval" option. Assign an object with a single field specified (days, hours or a similar one).'),f&&f.autoArrangementStep>1){r.isString(i)&&(i=r.getDateIntervalByString(i));for(u in i)i.hasOwnProperty(u)&&(i[u]*=f.autoArrangementStep,e=r.convertDateTickIntervalToMilliseconds(i));i=r.convertMillisecondsToDateUnits(e)}this.dateUnitInterval=r.getDateUnitInterval(i)}},_drawDateMarker:function(n,t){var r,u,f,i,e;if(t.x!==null)return i=this._options.scale,this._renderer.path([t.x,t.y,t.x,t.y+i.marker.separatorHeight],"line").attr(this.lineOptions).sharp().append(t.group),f=h(n,t.label),r=t.x+i.tick.width+i.marker.textLeftIndent,u=t.y+i.marker.textTopIndent+this.fontOptions["font-size"],this.textOptions.align="left",e=this._renderer.text(f,r,u).attr(this.textOptions).css(this.fontOptions).css(this.textStyles).append(t.group),r+e.getBBox().width},_drawDateMarkers:function(n,t){var a,i,e,o,u,l=-1,h;if(this._options.scale.valueType==="datetime"&&this.visibleMarkers&&(h=[],n.length>1)){for(i=1;i<n.length;i++)e=r.getDatesDifferences(n[i-1],n[i]),s(e,this.dateUnitInterval),e.count>0&&(o=c(n[i],this.dateUnitInterval),u=this.translator.translate(o),u>l&&(u!==null&&h.push({date:o,posX:u}),l=this._drawDateMarker(o,{group:t,y:this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,x:u,label:this._getLabelFormatOptions(f.getDateFormatByDifferences(e))})));this._initializeMarkersEvents(h,t)}},_getLabelFormatOptions:function(t){return r.isDefined(this._options.scale.marker.label.format)?this._options.scale.marker.label:n.extend({},this._options.scale.marker.label,{format:t})},_initializeMarkersEvents:function(t,i){var r=this,c=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,f,e,l,s,h;if(t.length>0){f=r._renderer.rect(r._options.canvas.left,c,r._options.canvas.width,r._options.scale.marker.separatorHeight).attr({fill:"grey",stroke:"grey",opacity:.0001}).append(i);n(f.element).on(u.events.start,function(n){e=u.utils.getRootOffsetLeft(r._renderer),s=u.utils.getEventPageX(n)-e,h=o(s,t,r._options.scale),r._options.setSelectedRange(h)});r._markersTracker=f}},_drawLabel:function(n,t){var i=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight,r=this._renderer.text(h(n,this._options.scale.label),this.translator.translate(n),i).attr(this.textOptions).css(this.fontOptions).css(this.textStyles);r.append(t)},_drawTick:function(n,t,i){var r=this,f=r._options.canvas.top+r._options.canvas.height-r.scaleLabelsAreaHeight,u=r.translator.translate(n,i),e=r._renderer.path([u,r._options.canvas.top,u,f],"line").attr(r.lineOptions).sharp().append(t)},_redraw:function(n){for(var i=this,r=i._options.scale,u=i._renderer.g(),o=i._renderer.g().append(n),f=r.ticksInfo.majorTicks,s=r.ticksInfo.minorTicks,h=r.ticksInfo.customBoundaryTicks,l=i._options.hideLabels||r.isEmpty||!r.label.visible,e=r.type==="discrete",c=e?-1:0,t=0;t<f.length;t++)l||i._drawLabel(f[t],o),i._drawTick(f[t],u,c);if(r.showMinorTicks||e)for(t=0;t<s.length;t++)i._drawTick(s[t],u,c);for(t=0;t<h.length;t++)i._drawTick(h[t],u);e&&i._drawTick(r._categoriesInfo.end,u,1),u.append(n),i._drawDateMarkers(f,o)},_applyOptions:function(n){var t=n.scale,r;this.textOptions={align:"center"},this.textStyles={"-webkit-user-select":"none"},this.fontOptions=e.core.utils.patchFontOptions(t.label.font),this.lineOptions={"stroke-width":t.tick.width,stroke:t.tick.color,"stroke-opacity":t.tick.opacity,"stroke-linecap":"square"},this._setupDateUnitInterval(t),this.visibleMarkers=t.marker.visible===i?!0:t.marker.visible,r=t.label.visible?t.label.topIndent+this.fontOptions["font-size"]:0,this.scaleLabelsAreaHeight=n.scaleLabelsAreaHeight,this.markersAreaHeight=this.scaleLabelsAreaHeight-r,this.translator=n.translator},_draw:function(n){this._redraw(n)},_update:function(t){var i=this.callBase;this._markersTracker&&n(this._markersTracker.element).off(u.events.start,"**"),this.callBase=i,this.callBase(t)},_calculateRangeByMarkerPosition:o,_prepareDatesDifferences:s})}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector,u=t.viz.renderers;r.rangeSelectorFactory=function(){return{createRangeContainer:function(n){return new r.RangeContainer(n)},createSlidersContainer:function(n){return new r.SlidersContainer(n)},createScale:function(n){return new r.Scale(n)},createSliderMarker:function(n){return new r.SliderMarker(n)},createRangeView:function(n){return new r.RangeView(n)},createThemeManager:function(n){return new r.ThemeManager(n)},createSlider:function(n,t){return new r.Slider(n,t)},createSlidersEventsManager:function(n,t,i){return new r.SlidersEventsManager(n,t,i)},createSlidersController:function(n){return new r.SlidersController(n)}}}()}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector,u=t.utils,h=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,f=u.isNumber,e=u.isDate,o=u.isString,c=0,l=1,s=r.utils;r.SlidersContainer=r.BaseVisualElement.inherit(function(){return{_drawAreaTracker:function(n){var t=this,i,r;i=t._renderer.rect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height).attr({fill:"grey",stroke:"grey",opacity:.0001}).append(n),r=t._renderer.rect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height).attr({fill:"grey",stroke:"grey",opacity:.0001}).css({cursor:"pointer"}).append(n),t._controller.setAreaTrackers(i,r)},dispose:function(){this._eventsManager.dispose(),this._eventManager=null},_processSelectionChanged:function(n,t){var i=this,f=function(n){return n&&i._lastSelectedRange.startValue===n.startValue&&i._lastSelectedRange.endValue===n.endValue},r=i.getSelectedRange();n&&(i._options.behavior.callSelectedRangeChanged||"").toLowerCase()!=="onmoving"||!i._options.selectedRangeChanged||f(r)||(i._updateLastSelectedRange(r),u.isFunction(i._options.selectedRangeChanged)&&i._options.selectedRangeChanged.call(null,r,t),n||f(r)||i.setSelectedRange(r))},_updateLastSelectedRange:function(n){n=n||this._options.selectedRange,this._lastSelectedRange={startValue:n.startValue,endValue:n.endValue}},_createSlider:function(n){return r.rangeSelectorFactory.createSlider(this._renderer,n)},_createSlidersController:function(n){return r.rangeSelectorFactory.createSlidersController(n)},_createSlidersEventsManager:function(n){var t=this;return r.rangeSelectorFactory.createSlidersEventsManager(t._renderer,n,function(n){t._processSelectionChanged(n)})},ctor:function(n){var t=this,i;t.callBase(n),i=[t._createSlider(c),t._createSlider(l)],t._controller=t._createSlidersController(i),t._eventsManager=t._createSlidersEventsManager(t._controller),t._lastSelectedRange={}},getSelectedRange:function(){return this._controller.getSelectedRange()},setSelectedRange:function(n){var i=this,r=i._options.scale,u,h,t=i._options.selectedRange,c=function(n,i){var u=r[n];(f(u)&&f(i)||e(u)&&e(i)||o(u)&&o(i))&&(t[n]=i)};n&&(u=n.startValue,h=n.endValue),c("startValue",u),c("endValue",h),t.startValue=s.truncateSelectedRange(t.startValue,r),t.endValue=s.truncateSelectedRange(t.endValue,r),i._controller.applySelectedRange(t),i._controller.applyPosition(),i._processSelectionChanged(!1,n&&n.blockSelectedRangeChanged)},appendTrackers:function(n){this._controller.appendTrackers(n)},_applyOptions:function(n){var t=this;t._controller.applyOptions({translator:n.translator,canvas:n.canvas,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,scale:n.scale,behavior:n.behavior}),t._eventsManager.applyOptions({behavior:n.behavior})},_draw:function(n){var t=this,i;h&&(i=t._renderer.root,i&&i.css({msTouchAction:"pinch-zoom"})),t._controller.redraw(n),t._drawAreaTracker(n),t._eventsManager.initialize(),t._update()},_update:function(){var n=this,t=n._options.isEmpty;n._eventsManager.setEnabled(!t),n._controller.applySelectedRange(t?{}:n._options.selectedRange),n._controller.applyPosition(n.isDrawn()),n._updateLastSelectedRange(),n._controller.redraw()}}}())}(jQuery,DevExpress),function(n,t,i){var e=t.viz.rangeSelector,s=t.utils,h=e.utils,f,r=0,u=1,o="discrete";f=e.SlidersController=function(n){this._sliders=n,n[r].setAnotherSlider(n[u]),n[u].setAnotherSlider(n[r])},f.prototype={constructor:f,setAreaTrackers:function(n,t){this._areaTracker=n,this._selectedAreaTracker=t},applyOptions:function(n){var i=this,t=null,f=i.getSlider(r),e=i.getSlider(u),s=n.scale;i._options=n,f.applyOptions(n),e.applyOptions(n),n.behavior.snapToTicks&&s.type!==o&&(t=s.ticksInfo.fullTicks,t.length>1&&t[0]>t[t.length-1]&&(t=t.reverse())),f.setAvailableValues(t),e.setAvailableValues(t)},processDocking:function(n){var t=this;n!==i?t.getSlider(n).processDocking():(t.getSlider(r).processDocking(),t.getSlider(u).processDocking()),t.setTrackersCursorStyle("default"),t.applyAreaTrackersPosition()},getSelectedRangeInterval:function(){var n=this;return n.getSlider(u).getPosition()-n.getSlider(r).getPosition()},moveSliders:function(n,t){var i=this,u=i.getSlider(r),f;u.setPosition(u.getPosition()+n,!1,t),i.applyPosition(!0)},moveSlider:function(n,t,i,u,f,e){var o=this,s=o.getSlider(n),h=s.getAnotherSlider(),c;s.canSwap()&&(n===r?i>h.getPosition():i<h.getPosition())&&(c=t,t||Math.abs(u)>=Math.abs(f)&&u*f<0&&(c=!0,i+=2*f,e(-f)),c&&(o.swapSliders(),h.applyPosition(!0))),s.setPosition(i,!0),s.applyPosition(!0),o.applyAreaTrackersPosition(),o.setTrackersCursorStyle("w-resize")},applySelectedAreaCenterPosition:function(n){var t=this,i=t.getSlider(r),f=(t.getSlider(u).getPosition()-i.getPosition())/2,e=t.getSelectedRangeInterval();i.setPosition(n-f,!1,e),t.applyPosition(),t.processDocking()},processManualSelection:function(n,t,i){var e=this,o,f,s=[Math.min(n,t),Math.max(n,t)];o=n<t?r:u,f=n<t?u:r,e.getSlider(f).setPosition(s[f]),e.getSlider(o).setPosition(s[o]),e.getSlider(f).setPosition(s[f],!0),e.getSlider(f).startEventHandler(i),e.getSlider(o).processDocking(),e.getSlider(f).applyPosition(!0)},applySelectedRange:function(n){var h=this,f=h._options.scale,l=f.inverted,a=h.getSlider(r),v=h.getSlider(u),t=n.startValue,i=n.endValue,e,c=function(n,t,i){(i?v:a).setValue(n),(i?a:v).setValue(t)};f.type!==o?!l&&t>i||l&&t<i?c(t,i,!0):c(t,i):(e=s.getCategoriesInfo(f._categoriesInfo.categories,t,i),c(e.start,e.end,e.inverted^f.inverted))},getSelectedRange:function(){var n=this;return{startValue:n.getSlider(r).getValue(),endValue:n.getSlider(u).getValue()}},swapSliders:function(){var n=this;n._sliders.reverse(),n.getSlider(r).changeLocation(),n.getSlider(u).changeLocation()},applyAreaTrackersPosition:function(){var n=this,t=n.getSelectedRange(),i=n._options.scale,f=n.getSlider(r),e=n.getSlider(u).getPosition()-f.getPosition(),o={x:f.getPosition(),width:e<0?0:e,y:n._options.canvas.top,height:n._options.canvas.height},s={cursor:i.endValue-i.startValue==t.endValue-t.startValue?"default":"pointer"};n._selectedAreaTracker.attr(o).css(s),n._areaTracker.attr({x:n._options.canvas.left,width:n._options.canvas.width,y:n._options.canvas.top,height:n._options.canvas.height})},applyPosition:function(n){var t=this;t.getSlider(r).applyPosition(n),t.getSlider(u).applyPosition(n),t.applyAreaTrackersPosition()},redraw:function(n){var t=this;t.getSlider(r).redraw(n),t.getSlider(u).redraw(n)},appendTrackers:function(n){var t=this;t._areaTracker&&t._selectedAreaTracker&&(t._areaTracker.append(n),t._selectedAreaTracker.append(n)),t.getSlider(r).appendTrackers(n),t.getSlider(u).appendTrackers(n)},getSlider:function(n){return this._sliders[n]},getAreaTracker:function(){return this._areaTracker},getSelectedAreaTracker:function(){return this._selectedAreaTracker},setTrackersCursorStyle:function(n){var t=this;t._selectedAreaTracker.css({cursor:n}),t._areaTracker.css({cursor:n})}}}(jQuery,DevExpress),function(n,t,i){var e=t.viz.rangeSelector,p=t.utils,l=10,s=0,a=1,h=t.ui.events.addNamespace,v=function(){var n=window,t="ontouchstart"in n,i=n.navigator.msPointerEnabled,r=n.navigator.pointerEnabled;e.events={start:r?"pointerdown":i?"MSPointerDown":t?"touchstart mousedown":"mousedown",move:r?"pointermove":i?"MSPointerMove":t?"touchmove mousemove":"mousemove",end:r?"pointerup pointercancel":i?"MSPointerUp MSPointerCancel":t?"touchend mouseup":"mouseup"}},c,r=e.utils.getEventPageX,y=0;v();var u=function(n){var r=n||window.event,t=r.originalEvent,f=r.touches,u=t?t.pointerType:!1,e=t?t.touches:!1,o=r.which===i&&r.button===1,s=t&&u!==i&&(u===(t.MSPOINTER_TYPE_TOUCH||"touch")||u===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&t.buttons===1),h=o||r.which===1,c=f&&f.length>0||e&&e.length>0;return h||s||c},o=function(n){var t=n.originalEvent,i=n.touches,r=t?t.touches:!1;return i&&i.length>1||r&&r.length>1||null},f=function(n){return n&&n.type&&n.type.indexOf("touch")===0};c=e.SlidersEventsManager=function(n,t,i){var r=this,u=r._uniqueNS="dx-range-selector_"+y++,f=e.events;r._renderer=n,r._slidersController=t,r._processSelectionChanged=i,r._enabled=!0,r._eventsNames={start:h(f.start,u),move:h(f.move,u),end:h(f.end,u)}},c.prototype={constructor:c,_getRootOffsetLeft:function(){return e.utils.getRootOffsetLeft(this._renderer)},_initializeSliderEvents:function(t){var s=this,v,h=s._slidersController,l=s._processSelectionChanged,i=h.getSlider(t),b=i.getAnotherSlider(),y,c,e,p=function(){e&&(e=!1,h.processDocking(),l(!1))},w=function(n){var k,t,a,p=s._getRootOffsetLeft(),w,b=i.getIndex();v===f(n)&&(!u(n,!0)&&e?(e=!1,h.processDocking(),l(!1)):e&&(o(n)||n.preventDefault(),t=r(n),w=t-c-p,a=t-i.getPosition()-p,h.moveSlider(b,y,w,a,c,function(n){c=n}),l(!0)))},a=s._eventsNames;i.startEventHandler=function(n){s._enabled&&u(n)&&!e&&(y=this===i.getSliderTracker().element,e=!0,v=f(n),c=r(n)-i.getPosition()-s._getRootOffsetLeft(),o(n)||(n.stopPropagation(),n.preventDefault()))};i.on(a.start,i.startEventHandler);n(document).on(a.end,p).on(a.move,w)},_initializeAreaEvents:function(){var t=this,c,o=t._slidersController,s=t._processSelectionChanged,a=o.getAreaTracker(),i=!1,p=!1,e,v=function(n){var u;i&&(u=r(n),t._options.behavior.moveSelectedRangeByClick&&Math.abs(e-u)<l&&o.applySelectedAreaCenterPosition(u-t._getRootOffsetLeft()),i=!1,s(!1))},y=function(n){var h,a,v,y=t._getRootOffsetLeft();c===f(n)&&(i&&!u(n)&&(i=!1,s(!1)),i&&(h=r(n),t._options.behavior.manualRangeSelectionEnabled&&Math.abs(e-h)>=l&&(a=e-y,v=h-y,o.processManualSelection(a,v,n),i=!1,s(!0))))},h=t._eventsNames;n(a.element).on(h.start,function(n){t._enabled&&u(n)&&!i&&(i=!0,c=f(n),e=r(n))});n(document).on(h.end,v).on(h.move,y)},_initializeSelectedAreaEvents:function(){var e=this,l,t=e._slidersController,h=e._processSelectionChanged,y=t.getSelectedAreaTracker(),i=!1,a,v,p=function(){i&&(i=!1,t.processDocking(),h(!1))},w=function(n){var e,c;l===f(n)&&(i&&!u(n)&&(i=!1,t.processDocking(),h(!1)),i&&(o(n)||n.preventDefault(),c=r(n),e=c-t.getSlider(s).getPosition()-a,t.moveSliders(e,v),h(!0)))},c=e._eventsNames;n(y.element).on(c.start,function(n){e._enabled&&u(n)&&!i&&(i=!0,l=f(n),a=r(n)-t.getSlider(s).getPosition(),v=t.getSelectedRangeInterval(),o(n)||(n.stopPropagation(),n.preventDefault()))});n(document).on(c.end,p).on(c.move,w)},applyOptions:function(n){this._options=n},dispose:function(){n(document).off("."+this._uniqueNS)},initialize:function(){var n=this;n._initializeSelectedAreaEvents(n),n._initializeAreaEvents(),n._initializeSliderEvents(s),n._initializeSliderEvents(a)},setEnabled:function(n){this._enabled=n}}}(jQuery,DevExpress),function(n,t,i){function p(n,t,i){return Math.abs(t-n)<i}function w(n,t,i,r){var u=l(t,n);return u===0||u===n.length-1?i:n[u-r]}var f=t.viz.rangeSelector,u=t.utils,s=f.utils,l=n.inArray,a="ontouchstart"in window,v=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,h={duration:250},c=8,y=20,r=0,e=1,o="discrete";f.Slider=f.BaseVisualElement.inherit(function(){return{_createSlider:function(){var n=this,i,t,r=n._options.sliderHandle;return t=n._renderer.g().attr({"class":"slider",translateX:n._options.canvas.left,translateY:n._options.canvas.top}),i=n._renderer.path([0,0,0,n._options.canvas.height],"line").attr({"class":"dx-range-selector-slider","stroke-width":r.width,stroke:r.color,"stroke-opacity":r.opacity,"stroke-linecap":"square"}).sharp().append(t),t.setValid=function(t){i.attr({stroke:t?n._options.sliderHandle.color:n._options.sliderMarker.invalidRangeColor})},t.updateHeight=function(){i.attr({points:[0,0,0,n._options.canvas.height]}).sharp()},t.applyOptions=function(n){i.attr(n).sharp()},t},_createSliderTracker:function(){var n=this,i=n._options.sliderHandle.width,f=c<i?i:c,r=a||v?y:f,u,t;return t=n._renderer.g().attr({"class":"sliderTracker",translateX:0,translateY:n._options.canvas.top}),u=n._renderer.rect(-r/2,0,r,n._options.canvas.height).attr({fill:"grey",stroke:"grey",opacity:.0001}).css({cursor:"w-resize"}).append(t),t.updateHeight=function(){u.attr({height:n._options.canvas.height})},t},_drawSliderTracker:function(n){var i=this,t=i._createSliderTracker();t&&(t.append(n),i._sliderTracker=t)},_createSliderMarker:function(n){return f.rangeSelectorFactory.createSliderMarker(n)},_setPosition:function(n,t){var i=this,r=i._correctPosition(n),u=i._options.translator.untranslate(r,i._getValueDirection());i.setValue(u,t,!1),i._position=r},_getValueDirection:function(){return this._options.scale.type===o?this.getIndex()===r?-1:1:0},_setPositionForBothSliders:function(n,t){var r=this,h=r.getAnotherSlider(),f,e,o,c=r._options,v=c.scale,y=c.canvas,p=y.left+y.width,l=c.translator,a=r._getValueDirection(),w=h._getValueDirection(),s=function(n,i,f){var e=f?w:a,o=f?a:w;return l.untranslate(r._correctBounds(u.addInterval(l.translate(n,e),t,i)),o)};n=r._correctBounds(n),f=l.untranslate(n,a),e=s(f),o=n+t,o>p?(e=v.endValue,o=p,f=s(e,!0,!0),n=r._correctBounds(o-t)):o=r._correctBounds(o),r._values&&((v.inverted?f>r._values[r._values.length-1]:f<r._values[0])?(f=r._correctByAvailableValues(f,!1),e=s(f)):(e=r._correctByAvailableValues(e,!1),f=s(e,!0))),h.setValue(e,i,!1),r.setValue(f,i,!1),r._position=n,h._position=o},_correctPosition:function(n){var i=this,t=i._correctInversion(n);return t=i._correctBounds(t)},_correctInversion:function(n){var i=this,u=n,t=i.getAnotherSlider().getPosition(),f=i.getIndex()===r?n>t:n<t;return f&&(u=t),u},_correctBounds:function(n){var r=this,i=n,t=r._options.canvas;return n<t.left&&(i=t.left),n>t.left+t.width&&(i=t.left+t.width),i},_correctValue:function(n,t,i){var u=this,r=u._correctByAvailableValues(n,i);return t&&(r=u._correctByMinMaxRange(r)),u._options.scale.type!==o&&(r=u.correctByMinRange(r)),r},_correctByAvailableValues:function(n,t){var i=this._values;return!t&&i?s.findNearValue(i,n):n},_correctByMinMaxRange:function(n){var t=this,u=n,f=t._options.scale,l=t._values,k=t.getIndex(),d=t.getAnotherSlider(),a=d.getValue(),v=!0,h,c,y=f.maxRange,b=f.minRange,g;return f.type===o?(g=f._categoriesInfo,p(t.getPosition(),d.getPosition(),t._options.translator.getInterval()/2)&&(v=!1,u=w(g.categories,n,d.getValue(),k===r?1:-1))):(!f.inverted&&k===r||f.inverted&&k===e?(y&&(h=t._addInterval(a,y,!0)),b&&(c=t._addInterval(a,b,!0))):(y&&(c=t._addInterval(a,y)),b&&(h=t._addInterval(a,b))),c!==i&&u>c?(u=l?s.findLessOrEqualValue(l,c):c,v=!1):h!==i&&u<h&&(u=l?s.findGreaterOrEqualValue(l,h):h,v=!1)),t._setValid(v),u},_addInterval:function(n,t,i){var r,o=this._options.scale.type,f=o==="logarithmic"&&this._options.scale.logarithmBase,e;return f?(e=u.addInterval(u.getLog(n,f),t,i),r=Math.pow(f,e)):r=u.addInterval(n,t,i),r},correctByMinRange:function(n){var u=this,s=u._values,f,o,h=!0,t=u._options.scale,i=n;return t.minRange&&(u.getIndex()===e?(f=u._addInterval(t.startValue,t.minRange,t.inverted),(!t.inverted&&i<f||t.inverted&&i>f)&&(i=f)):u.getIndex()===r&&(o=u._addInterval(t.endValue,t.minRange,!t.inverted),(!t.inverted&&i>o||t.inverted&&i<o)&&(i=o))),i},_applySliderPosition:function(n,t){var i=this,f=i._options.behavior.animationEnabled&&!t,r=i._options.canvas.top,u=i._slider;f||u.inAnimation?(u.inAnimation=!0,u.animate({translateX:n,translateY:r},f?h:{duration:0},function(){u.inAnimation=!1}),i._sliderTracker.animate({translateX:n,translateY:r},f?h:{duration:0})):(i._slider.attr({translateX:n,translateY:r}),i._sliderTracker.attr({translateX:n,translateY:r})),i._sliderTracker.updateHeight(),i._slider.updateHeight()},_applyShutterPosition:function(n,t){var i=this,u,f=i._shutter,o=i._options.behavior.animationEnabled&&!t,s=i.getIndex();s==r?u={x:i._options.canvas.left,y:i._options.canvas.top,width:n-i._options.canvas.left,height:i._options.canvas.height}:s==e&&(u={x:n+1,y:i._options.canvas.top,width:i._options.canvas.left+i._options.canvas.width-n,height:i._options.canvas.height}),u&&(o||f.inAnimation?(f.inAnimation=!0,f.animate(u,o?h:{duration:0},function(){f.inAnimation=!1})):f.attr(u))},_setValid:function(n){var t=this;t._marker&&t._marker.setValid(n),t._slider.setValid(n)},_setText:function(n){var t=this;t._marker&&t._marker.setText(n)},_update:function(){var n=this,t=n._options,r=t.shutter,i=t.sliderHandle;n._marker&&n._marker.applyOptions(t.sliderMarker),n._shutter&&n._shutter.attr({fill:r.color,"fill-opacity":r.opacity}),n._slider&&n._slider.applyOptions({"stroke-width":i.width,stroke:i.color,"stroke-opacity":i.opacity})},_draw:function(n){var t=this,i,f,o,u,h,c,s=t.getIndex();o=t._renderer.g().attr({"class":"sliderArea"}).append(n),s===r?u=t._renderer.rect(t._options.canvas.left,t._options.canvas.top,0,t._options.canvas.height):s===e&&(u=t._renderer.rect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height)),u&&(u.append(o),i=t._createSlider(),i&&i.append(o),t._options.sliderMarker.visible&&(f=t._createSliderMarker({renderer:t._renderer,isLeftPointer:s===e,sliderMarkerOptions:t._options.sliderMarker}),f.draw(i)),t._shutter=u,t._slider=i,t._marker=f),t._drawSliderTracker(n)},_applyOptions:function(){this._lastPosition=null},ctor:function(n,t){var i=this;i.callBase(n),i._index=t},getIndex:function(){return this._index},setAvailableValues:function(n){this._values=n},setAnotherSlider:function(n){this._anotherSlider=n},getAnotherSlider:function(){return this._anotherSlider},appendTrackers:function(n){var t=this;t._sliderTracker&&t._sliderTracker.append(n)},getSliderTracker:function(){return this._sliderTracker},changeLocation:function(){var n=this;n._marker&&n._marker.changeLocation(),n._index=n._index===r?e:r,n._options.scale.type===o&&n.setPosition(n._position),n._lastPosition=null},setPosition:function(n,t,u){var f=this,e;u!==i?(e=f.getIndex()===r?f:f.getAnotherSlider(),e._setPositionForBothSliders(n,u)):f._setPosition(n,t)},getPosition:function(){return this._position},setValue:function(n,t,e){var o=this,s=o._options,h=s.canvas;n===i?(o._value=i,o._valuePosition=o._position=o.getIndex()===r?h.left:h.left+h.width,o._setText(f.consts.emptySliderMarkerText)):(o._value=o._correctValue(n,t,u.isDefined(e)?!!e:!0),o._valuePosition=o._position=s.translator.translate(o._value,o._getValueDirection()),o._setText(f.formatValue(o._value,s.sliderMarker)))},getValue:function(){return this._value},canSwap:function(){var i=this,n=i._options.scale,f,e,t;if(i._options.behavior.allowSlidersSwap){if(n.minRange)if(t=i.getAnotherSlider().getValue(),i.getIndex()===r){if(e=u.addInterval(n.endValue,n.minRange,!n.inverted),!n.inverted&&t>e||n.inverted&&t<e)return!1}else if(f=u.addInterval(n.startValue,n.minRange,n.inverted),!n.inverted&&t<f||n.inverted&&t>f)return!1;return!0}return!1},processDocking:function(){var n=this;n._position=n._valuePosition,n.applyPosition(!1),n._setValid(!0)},applyPosition:function(n){var t=this,i=t.getPosition();t._lastPosition!==i&&(t._applySliderPosition(i,n),t._applyShutterPosition(i,n),t._lastPosition=i)},on:function(t,i){var r=this,u=r._marker&&r._marker.getTracker();r._sliderTracker&&n(r._sliderTracker.element).on(t,i),u&&n(u.element).on(t,i)}}}())}(jQuery,DevExpress),function(n,t){var f=t.viz,e=f.core,o=f.rangeSelector,r;r=o.SliderMarker=function(t){var i=this;i._renderer=t.renderer,i._text=t.text,i._isLeftPointer=t.isLeftPointer,i._options=n.extend(!0,{},t.sliderMarkerOptions),i._options.textFontStyles=e.utils.patchFontOptions(i._options.font),i._isValid=!0,s(i,{width:10,height:10})};var c=function(t){this._options=n.extend(!0,{},t),this._options.textFontStyles=e.utils.patchFontOptions(this._options.font),this.update()},u=function(n,t){return{width:Math.round(2*n._options.padding+t.width),height:Math.round(2*n._options.padding+t.height*o.consts.fontHeightRatio)}},s=function(n,t){var i=u(n,t);n._points=n._isLeftPointer?[0,0,i.width,0,i.width,i.height,n._options.pointerSize,i.height,0,i.height+n._options.pointerSize]:[0,0,i.width,0,i.width,i.height+n._options.pointerSize,i.width-n._options.pointerSize,i.height,0,i.height]},l=function(n,t){var i=u(n,t);return n._isLeftPointer?{x:0,y:i.height+n._options.pointerSize}:{x:i.width-1,y:i.height+n._options.pointerSize}},a=function(t){var i=this,r=i._options.padding;i._sliderMarkerGroup=i._renderer.g().attr({"class":"sliderMarker"}).append(t),i._area=i._renderer.path(i.points,"area").attr({fill:i._options.color}).append(i._sliderMarkerGroup),i._label=i._renderer.text(i._text,r,r).attr({align:"left"}).css(n.extend({"-webkit-user-select":"none"},i._options.textFontStyles)).append(i._sliderMarkerGroup),i._tracker=i._renderer.rect(0,0,2*r,2*r+i._options.pointerSize).attr({fill:"grey",stroke:"grey",opacity:.0001}).css({cursor:"pointer"}).append(i._sliderMarkerGroup),i._drawn=!0,i.update()},v=function(n){var t=n._label.getBBox();return!n._textHeight&&isFinite(t.height)&&(n._textHeight=t.height),{width:t.width,height:n._textHeight}},h=function(n){var t=this,i,r,f;(t._interval&&clearInterval(t._interval),delete t._interval,t._drawn)&&(t._label.attr({text:t._text||""}),i=v(t),n?delete t._textSize:(t._textSize=t._textSize||i,t._textSize=i.width>t._textSize.width||i.height>t._textSize.height?i:t._textSize,i=t._textSize,t._interval=setInterval(function(){h.call(t,!0)},75)),r=u(t,i),f=l(t,i),t._sliderMarkerGroup.attr({translateX:-f.x,translateY:-f.y}),s(t,i),t._area.attr({points:t._points,fill:t._isValid?t._options.color:t._options.invalidRangeColor}),t._tracker.attr({width:r.width,height:r.height+t._options.pointerSize}),t._label.attr({x:t._options.padding,y:r.height-t._options.padding}))},y=function(){var n=this;return n._text},p=function(n){var t=this;t._text!==n&&(t._text=n,t.update())},w=function(n){var t=this;t._isValid=n,t.update()},b=function(){var n=this;n._isLeftPointer=!n._isLeftPointer,n.update()},k=function(){return this._tracker};r.prototype={constructor:r,draw:a,update:h,getText:y,setText:p,changeLocation:b,applyOptions:c,getTracker:k,setValid:w}}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.RangeView=r.BaseVisualElement.inherit(function(){return{_draw:function(n){var s=this,c,l,f,u,r,e,i,t=s._options,a,h=t.isEmpty,o=s._renderer;if(e=t.seriesDataSource&&t.seriesDataSource.isShowChart()&&!h,i=t.canvas,e?f=t.seriesDataSource.getBackgroundColor():!h&&t.background.visible&&(f=t.background.color),t.background.visible&&f&&(c=o.rect(i.left,i.top,i.width+1,i.height).attr({fill:f,"class":"dx-range-selector-background"}).append(n)),t.background.visible&&t.background.image&&t.background.image.url&&(l=o.image(i.left,i.top,i.width+1,i.height,t.background.image.url,t.background.image.location).append(n)),e)for(u=t.seriesDataSource.getSeries(),t.seriesDataSource.adjustSeriesDimensions(t.translators,t.chart.useAggregation),r=0;r<u.length;r++)u[r]._extGroups.seriesGroup=n,u[r]._extGroups.labelsGroup=n,u[r].draw(t.translators,t.behavior&&t.behavior.animationEnabled&&o.animationEnabled())}}}())}(jQuery,DevExpress),function(n,t,i){var s=t.viz.rangeSelector,e=t.viz.charts,u=t.viz.core,o=u.CoreFactory,r=t.utils,f,h=function(n){return e.factory.createThemeManager(n,"rangeSelector.chart")},c=function(t){return n.isArray(t)&&t.length>0&&(r.isNumber(t[0])||r.isDate(t[0]))},l=function(t){return n.map(t,function(n,t){return{arg:n,val:t}})},a=function(t,i,r,u){var e=[],f=[];return n.each(t,function(t,i){n.inArray(i.type,f)===-1&&f.push(i.type)}),n.each(f,function(n,f){var s=new o.createSeriesFamily({type:f,equalBarWidth:i,minBubbleSize:r,maxBubbleSize:u});s.add(t),s.adjustSeriesValues(),e.push(s)}),e},v=function(t){var r=["bar","candlestick","stock","bubble"],i=!0;return t=t.toLowerCase(),n.each(r,function(n,r){if(t.indexOf(r)!==-1)return i=!1,!1}),i};f=s.SeriesDataSource=function(n){var t=this,o,u,i=t.themeManager=h(n.chart),f=i.getOptions("topIndent"),e=i.getOptions("bottomIndent");t._indent={top:f>=0&&f<1?f:0,bottom:e>=0&&e<1?e:0},t._valueAxis=i.getOptions("valueAxisRangeSelector")||{},t._hideChart=!1,u=i.getOptions("seriesTemplate"),n.dataSource&&u&&(o=r.processSeriesTemplate(u,n.dataSource)),t._series=t._calculateSeries(n,o),t._seriesFamilies=a(t._series,i.getOptions("equalBarWidth"),i.getOptions("minBubbleSize"),i.getOptions("maxBubbleSize"))},f.prototype={constructor:f,_calculateSeries:function(t,r){var f=this,a=[],v,y,h,d,p=f.themeManager,k=!!p.getOptions("seriesTemplate"),u=k?r:t.chart.series,nt=t.chart.valueAxis&&t.chart.valueAxis.valueType,w,s,b,g;for(f.teamplateData=[],t.dataSource&&!u&&(c(t.dataSource)&&(t.dataSource=l(t.dataSource)),w=t.dataSourceField||"arg",u={argumentField:w,valueField:w},f._hideChart=!0),u=n.isArray(u)?u:u?[u]:[],f._backgroundColor=t.backgroundColor!==i?t.backgroundColor:p.getOptions("backgroundColor"),s=0;s<u.length;s++)v=n.extend(!0,{argumentType:t.valueType,argumentAxisType:t.axisType,valueType:w?t.valueType:nt,incidentOccured:t.incidentOccured},u[s]),v.rotated=!1,v.argumentCategories=t.categories,h=v.data||t.dataSource,y=p.getOptions("series",v),y.argumentField=y.argumentField||t.dataSourceField,h&&h.length>0&&(b=o.createSeries({renderer:t.renderer},y),a.push(b)),k&&(n.each(h,function(t,i){n.each(b.getTeamplatedFields(),function(n,t){i[t.teamplateField]=i[t.originalField]}),f.teamplateData.push(i)}),b.updateTeamplateFieldNames());for(h=k?f.teamplateData:h,f._dataValidator=e.factory.createDataValidator(h,[a],t.incidentOccured,p.getOptions("dataPrepareSettings")),d=f._dataValidator.validate(),s=0;s<a.length;s++)g=a[s],g.updateData(d);return a},adjustSeriesDimensions:function(t,i){var r=this;i&&n.each(r._series||[],function(n,i){i.resamplePoints(t)}),n.each(r._seriesFamilies,function(){this.adjustSeriesDimensions({arg:t.x,val:t.y})})},getBoundRange:function(){var f=this,l,a=f._valueAxis.min,y=f._valueAxis.max,t=new u.Range({isValueRange:!0,min:a,minVisible:a,max:y,maxVisible:y,axisType:f._valueAxis.type,base:f._valueAxis.logarithmBase}),o=new u.Range({}),e,s,p,h,c;return n.each(f._series,function(n,i){l=i.getRangeData(),t.addRange(l.val),o.addRange(l.arg),v(i.type)||o.addRange({stick:!1})}),t.isDefined()&&o.isDefined()&&(h=f._valueAxis.inverted?f._indent.top:f._indent.bottom,c=f._valueAxis.inverted?f._indent.bottom:f._indent.top,e=t.max-t.min,s=(n.isNumeric(t.maxVisible)?t.maxVisible:t.max)-(n.isNumeric(t.minVisible)?t.minVisible:t.min),r.isDate(t.min)?t.min=new Date(t.min.valueOf()-e*h):t.min-=e*h,r.isDate(t.max)?t.max=new Date(t.max.valueOf()+e*c):t.max+=e*c,n.isNumeric(s)&&(t.maxVisible=t.maxVisible?t.maxVisible+s*c:i,t.minVisible=t.minVisible?t.minVisible-s*h:i),t.invert=f._valueAxis.inverted),{arg:o,val:t}},getSeries:function(){var n=this;return n._series},getBackgroundColor:function(){var n=this;return n._backgroundColor},isEmpty:function(){var n=this;return n.getSeries().length===0},isShowChart:function(){var n=this;return!n.isEmpty()&&!n._hideChart},getCalculatedValueType:function(){var n=this,t;return n._series.length&&(t=n._series[0].argumentType),t}}}(jQuery,DevExpress),function(n,t){t.viz.rangeSelector=t.viz.rangeSelector,t.viz.rangeSelector.ThemeManager=t.viz.core.BaseThemeManager.inherit({_themeSection:"rangeSelector",_fontFields:["scale.label.font","sliderMarker.font","loadingIndicator.font"],ctor:function(n){this.setTheme(n)},applyRangeSelectorTheme:function(t){var u=this,r=t.chart,f=t.dataSource,i;return delete t.dataSource,delete t.chart,i=n.extend(!0,{},u._theme,t),t.dataSource=i.dataSource=f,r&&(t.chart=i.chart=r),i},setBackgroundColor:function(n){var t=this._theme;n&&(t.containerBackgroundColor=n),t.shutter.color=t.shutter.color||t.containerBackgroundColor}})}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0}